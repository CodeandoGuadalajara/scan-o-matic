<!DOCTYPE html>
<html lang="en" style="height:100%">
	<head>
	    <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.">
		<meta name="keywords" content="HTML, CSS, JS, JavaScript, framework, bootstrap, front-end, frontend, web development">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
	
		<title>
		    Accesibilidad web
		</title>
	
		<!-- Bootstrap core CSS -->
		<link href="../Plantilla/css/bootstrap.min.css" rel="stylesheet">
		<link href="../Plantilla/css/other.css" rel="stylesheet">
		<!-- Documentation extras -->
		<!--<link href="/css/docs.min.css" rel="stylesheet">-->
		
		<!--[if lt IE 9]><script src="../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
		<!--<script src="../assets/js/ie-emulation-modes-warning.js"></script>-->
		
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
		
		<!-- Favicons -->
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		<link rel="icon" href="favicon.ico">
		
	</head>
	<body  style="height:100%">
		<div class="bs-example bs-navbar-top-example" data-example-id="navbar-static-top">
			<nav class="navbar navbar-default navbar-static-top">
				<div class="container">
					<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-8">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					</button>
					<a class="glyphicon glyphicon-home" href="index.html"></a>
					</div>
					
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-8">
						<ul class="nav navbar-nav">
                            <li><a href="que_es.html">¿Qué es?</a></li>
                            <li><a href="nutricion.html">Nutricion</a></li>
							<li><a href="sobre_nosotros.html">Sobre Nosotros</a></li>
						</ul>
					</div><!-- /.navbar-collapse -->
				</div>
			</nav>
		</div>
		<div class="container" id="principal" style="background-image:url(img/comidaFondo.jpg); height:62%">
			<!--/* Jumbo tron section */ -->
			<div class="jumbotron"  id="div1" style="width:90%">
				<h1>¿Qué vas a comer hoy?</h1>
                <button id="btnComenzar" class="btn btn-primary pull-right"  onclick="muestraTabla()" disabled>Comenzar</button>
                <input id="img" type="file" name="file1" accept="image/*" onchange="post(this)">
                <a  id="txt">Hola Mundo</a>
                <table id="Tabla1" border="0" style="width:50%;" hidden>
                    <tr><td>Calorias</td><td><img value="1" id="resCalorias" src="" border="0" width="50" height="50"></td></tr>
                    <tr><td>Grasas</td><td><img value="0" id="resGrasas" src="" border="0" width="50" height="50"></td></tr>
                    <tr><td>Vitaminas y Minerales</td><td><img value="0" id="resVitMin" src="" border="0" width="50" height="50"></td></tr>
                    <tr><td>Proteinas</td><td><img value="1" id="resProteinas" src="" border="0" width="50" height="50"></td></tr>
                </table>
			</div>
		</div>
		<hr>
		<footer class="bs-docs-footer" style="height:15%">
			<div class="container">
				<div class="location">
					<div class="info-address">
						<p>
							<span class="glyphicon glyphicon-map-marker"></span> 
							CUCEI, Guadalajara, Jalisco.
						</p>
					</div>
					<div class="info-email">
						<p>
							<span class="glyphicon glyphicon-envelope"></span> 
							<a href="mailto:ciip@lux.edu.mx"> DreamTeam: ciip@lux.edu.mx</a>
						</p>
					</div>
					<div class="info-phone">
						<p>
							<span class="glyphicon glyphicon-earphone"></span> 
							36142587
						</p>
					</div>
					<div class="contact-link">
						<a class="btn btn-info" href="http://www.who.int/es/" >Mas Información</a>
					</div>
				</div>
			</div>
		</footer>

		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="../Plantilla/js/bootstrap.min.js"></script>
        <script>
            /*var xhr = new XMLHttpRequest();
            xhr.open('GET', '/my/image/name.png', true);
            xhr.responseType = 'arraybuffer';

            xhr.onload = function (e) {
                // response is unsigned 8 bit integer
                var responseArray = new Uint8Array(this.response);
            };
            xhr.send();*/
         
            /*var iCallID;
            function InitializeService() {
                service.useService("http://localhost:1394/MyWebService.asmx?wsdl", "HelloWorldService");
                service.HelloWorldService.callService("HelloWorld");
            }
            function ShowResult(){
                alert(event.result.value);
            }*/
        </script>
        <script>
            function post(imagen) {
                document.getElementById("btnComenzar").disabled = false;
                var archivo = imagen.files[0];
                var x = document.getElementById("img");
                var txt = "";
                if ('files' in x) {
                    if (x.files.length == 0) {
                        txt = "Select one or more files.";
                    } else {
                        for (var i = 0; i < x.files.length; i++) {
                            txt += "<br><strong>" + (i + 1) + ". file</strong><br>";
                            var file = x.files[i];
                            if ('name' in file) {
                                txt += "name: " + file.name + "<br>";
                            }
                            if ('size' in file) {
                                txt += "size: " + file.size + " bytes <br>";
                            }
                        }
                    }
                }
                else {
                    if (x.value == "") {
                        txt += "Select one or more files.";
                    } else {
                        txt += "The files property is not supported by your browser!";
                        txt += "<br>The path of the selected file: " + x.value; // If the browser does not support the files property, it will return the path of the selected file instead. 
                    }
                }
                $.ajax({
                    url: '%http://a7d1ecca.ngrok.io/%',
                    cache: false,
                    type: 'POST',
                    //contentType: 'application/octet-stream',
                    data: archivo.serialize(),
                    processData: false,
                    setRequestHeader: ('secret', 'supersecretkey'),
                    success: function (data) {

                    },
                    error: function (data) {

                    }
                });

            };
            /*document.getElementById("img").onchange = function(e) { 
               
            };*/
            function muestraTabla() {
                var btn = document.getElementById("btnComenzar");
                 //document.getElementById("div1").style = "width:80%; margin:10px";
                 //formdata.append("file1", file);
                 //var ajax = new XMLHttpRequest();
                 // ajax.upload.addEventListener("progress", myProgressHandler, false);
              /*ajax.addEventListener("load", myCompleteHandler, false);
              ajax.addEventListener("error", myErrorHandler, false);
              ajax.addEventListener("abort", myAbortHandler, false);
              ajax.open("POST", "file_upload_parser.php"); ajax.send(formdata);
              */
              
                document.getElementById("txt").innerHTML = txt;            
                if (btn.textContent === "Comenzar") {
                    document.getElementById("Tabla1").hidden = false;
                    funcion(document.getElementById("resCalorias"), 1/*{BoolCalorias}*/);
                    funcion(document.getElementById("resGrasas"), 0/*{BoolGrasas}*/);
                    funcion(document.getElementById("resVitMin"), 1 /*{BoolVitMin}*/);
                    funcion(document.getElementById("resProteinas"), 0 /*{BoolProteinas}*/);
                    btn.textContent = "Reiniciar";

                }
                else {
                    document.getElementById("Tabla1").hidden = true;
                    btn.textContent = "Comenzar";
                    img.defaultValue;
                }
            };
            function funcion(control, value) {
                //acceder a el webservice y obtener la variable entera/booleana 1 o 0
                switch (value/*AQUI VARIABLE CON PARAMETRO DE BD true o false (1/0)*/) {
                    case 0:
                        control.src = "https://cdn1.iconfinder.com/data/icons/ui-color/512/Untitled-12-512.png";
                        break;
                    case 1:
                        control.src = "https://cdn3.iconfinder.com/data/icons/10con/512/checkmark_tick-128.png";
                        break;
                }
            };
        </script>
	</body>
</html>

